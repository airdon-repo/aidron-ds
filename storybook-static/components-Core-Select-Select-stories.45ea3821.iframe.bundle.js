"use strict";(self.webpackChunk_aidron_aidron_ds=self.webpackChunk_aidron_aidron_ds||[]).push([[1308],{"./src/components/Core/Select/Select.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultiSelect:()=>MultiSelect,MultiSelectLabel:()=>MultiSelectLabel,SelectInput:()=>SelectInput,SelectInputLabel:()=>SelectInputLabel,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _Select__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Core/Select/Select.jsx"),_SelectItem__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Core/Select/SelectItem.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Core/Select",component:_Select__WEBPACK_IMPORTED_MODULE_1__.P},Template=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_Select__WEBPACK_IMPORTED_MODULE_1__.P,{label:"Options",width:"250px",placeholder:"Placeholder",handleChange:x=>{console.log(x)},...args,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"1",children:"Option 1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"2",children:"Option 2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"3",children:"Option 3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"4",children:"Option 4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"5",children:"Option 5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"6",children:"Option 6"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q,{value:"7",children:"Option 7 with long text for masking purposes"})]});Template.displayName="Template";const SelectInput=Template.bind({});SelectInput.args={selected:"3",readOnly:!0};const SelectInputLabel=Template.bind({});SelectInputLabel.args={selected:"3",readOnly:!0,label:"Product"};const MultiSelect=Template.bind({});MultiSelect.args={selected:["1","3"],readOnly:!0,multiselect:!0};const MultiSelectLabel=Template.bind({});MultiSelectLabel.args={selected:["1","3"],readOnly:!0,multiselect:!0,label:"Products"},SelectInput.parameters={...SelectInput.parameters,docs:{...SelectInput.parameters?.docs,source:{originalSource:'args => {\n  const handleChange = x => {\n    // eslint-disable-next-line no-console\n    console.log(x);\n  };\n  return <Select label="Options" width="250px" placeholder="Placeholder" handleChange={handleChange} {...args}>\n      <SelectItem value="1">Option 1</SelectItem>\n      <SelectItem value="2">Option 2</SelectItem>\n      <SelectItem value="3">Option 3</SelectItem>\n      <SelectItem value="4">Option 4</SelectItem>\n      <SelectItem value="5">Option 5</SelectItem>\n      <SelectItem value="6">Option 6</SelectItem>\n      <SelectItem value="7">\n        Option 7 with long text for masking purposes\n      </SelectItem>\n    </Select>;\n}',...SelectInput.parameters?.docs?.source}}},SelectInputLabel.parameters={...SelectInputLabel.parameters,docs:{...SelectInputLabel.parameters?.docs,source:{originalSource:'args => {\n  const handleChange = x => {\n    // eslint-disable-next-line no-console\n    console.log(x);\n  };\n  return <Select label="Options" width="250px" placeholder="Placeholder" handleChange={handleChange} {...args}>\n      <SelectItem value="1">Option 1</SelectItem>\n      <SelectItem value="2">Option 2</SelectItem>\n      <SelectItem value="3">Option 3</SelectItem>\n      <SelectItem value="4">Option 4</SelectItem>\n      <SelectItem value="5">Option 5</SelectItem>\n      <SelectItem value="6">Option 6</SelectItem>\n      <SelectItem value="7">\n        Option 7 with long text for masking purposes\n      </SelectItem>\n    </Select>;\n}',...SelectInputLabel.parameters?.docs?.source}}},MultiSelect.parameters={...MultiSelect.parameters,docs:{...MultiSelect.parameters?.docs,source:{originalSource:'args => {\n  const handleChange = x => {\n    // eslint-disable-next-line no-console\n    console.log(x);\n  };\n  return <Select label="Options" width="250px" placeholder="Placeholder" handleChange={handleChange} {...args}>\n      <SelectItem value="1">Option 1</SelectItem>\n      <SelectItem value="2">Option 2</SelectItem>\n      <SelectItem value="3">Option 3</SelectItem>\n      <SelectItem value="4">Option 4</SelectItem>\n      <SelectItem value="5">Option 5</SelectItem>\n      <SelectItem value="6">Option 6</SelectItem>\n      <SelectItem value="7">\n        Option 7 with long text for masking purposes\n      </SelectItem>\n    </Select>;\n}',...MultiSelect.parameters?.docs?.source}}},MultiSelectLabel.parameters={...MultiSelectLabel.parameters,docs:{...MultiSelectLabel.parameters?.docs,source:{originalSource:'args => {\n  const handleChange = x => {\n    // eslint-disable-next-line no-console\n    console.log(x);\n  };\n  return <Select label="Options" width="250px" placeholder="Placeholder" handleChange={handleChange} {...args}>\n      <SelectItem value="1">Option 1</SelectItem>\n      <SelectItem value="2">Option 2</SelectItem>\n      <SelectItem value="3">Option 3</SelectItem>\n      <SelectItem value="4">Option 4</SelectItem>\n      <SelectItem value="5">Option 5</SelectItem>\n      <SelectItem value="6">Option 6</SelectItem>\n      <SelectItem value="7">\n        Option 7 with long text for masking purposes\n      </SelectItem>\n    </Select>;\n}',...MultiSelectLabel.parameters?.docs?.source}}};const __namedExportsOrder=["SelectInput","SelectInputLabel","MultiSelect","MultiSelectLabel"]},"./src/components/Core/Icon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>_Icon__WEBPACK_IMPORTED_MODULE_0__.J});var _Icon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Core/Icon/Icon.jsx")},"./src/components/Core/Select/Select.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>Select});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_TextField__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Core/TextField/index.js"),_SelectItem__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Core/Select/SelectItem.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Select=({children,label,width,selected,placeholder,multiselect,handleChange,readOnly})=>{const[selectedItem,setSelectedItem]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("object"==typeof selected?void 0:selected),[multiSelected,setMultiSelected]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(multiselect?selected:[]),[selectedText,setSelectedText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(label),[richChildren,setRichChildren]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(children),[showOptions,setShowOptions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),node=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),checkSelected=value=>multiselect?multiSelected.some((e=>e===value)):selectedItem===value,handleMultiple=value=>{setShowOptions(!0),setMultiSelected(multiSelected.some((e=>e===value))?multiSelected.filter((e=>e!==value)):[value,...multiSelected])},handleSingle=value=>setSelectedItem(value===selectedItem?void 0:value),PropedChildren=richChildren&&richChildren.map(((child,idx)=>react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&child.type===_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{key:idx.toString(),onSelect:multiselect?handleMultiple:handleSingle,selected:checkSelected(child.props.value)}):child));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{children&&setRichChildren(children.map(((child,idx)=>react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&child.type===_SelectItem__WEBPACK_IMPORTED_MODULE_2__.Q?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child,{key:idx.toString(),onSelect:multiselect?handleMultiple:handleSingle,selected:checkSelected(child.props.value)}):child)))}),[children]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(multiselect){const names=null==children?void 0:children.filter((child=>!!multiSelected.some((e=>e===child.props.value))&&child.props.children)).filter(Boolean).map((x=>x.props.children));setSelectedText(`${label} ${(names=>names.length>1?`${names[0]} ...(+${names.length-1})`:names.reduce(((a,x)=>`${a}, ${x}`),"").substr(2))(names)}`)}handleChange&&handleChange(multiSelected)}),[multiSelected]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!multiselect){if(handleChange&&handleChange(selectedItem),setShowOptions(!1),children&&selectedItem){const first=null==children?void 0:children.find((child=>child.props.value===selectedItem));setSelectedText(`${label} ${selectedItem&&first?first.props.children:void 0}`)}selectedItem||setSelectedText(label)}}),[selectedItem]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{multiselect?setMultiSelected(selected):setSelectedItem(selected)}),[selected]);const handleClickOutside=e=>{if(!node.current.contains(e.target))return setShowOptions(!1)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(showOptions?document.addEventListener("mousedown",handleClickOutside):document.removeEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)})),[showOptions]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("select",{defaultValue:selectedItem,title:"menu-select-hidden",hidden:!0,multiple:multiselect?1:0,onChange:handleChange,className:["ragnarok","menu-select-hidden"].join(" "),children:children&&children.map(((option,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("option",{value:option.props.value.toString(),children:option.props.children},idx.toString())))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{ref:node,style:{width},"data-testid":"select",className:["ragnarok","menu-select-wrapper",showOptions?"open":"close"].join(" "),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_TextField__WEBPACK_IMPORTED_MODULE_1__.n,{iconRight:"chevron-down",width,readOnly,onClickRight:()=>setShowOptions(!showOptions),label:selectedText||label,helpClass:"help",type:"search",onChange:x=>{setShowOptions(""!==x);const filtered=null==children?void 0:children.filter((child=>{var _child$props,_child$props3,_child$props2,_child$props4;return"string"==typeof(null===(_child$props=child.props)||void 0===_child$props?void 0:_child$props.children)?-1!==(null===(_child$props2=child.props)||void 0===_child$props2?void 0:_child$props2.children.toLowerCase().indexOf(x.toLowerCase())):"object"==typeof(null===(_child$props3=child.props)||void 0===_child$props3?void 0:_child$props3.children)&&-1!==(null===(_child$props4=child.props)||void 0===_child$props4?void 0:_child$props4.label.toLowerCase().indexOf(x.toLowerCase()))}));setRichChildren(filtered)},placeholder}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{"data-testid":"menu-select",className:["ragnarok","menu-select",showOptions?"open":"close"].join(" "),children:PropedChildren&&PropedChildren})]})]})};Select.propTypes={selected:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,prop_types__WEBPACK_IMPORTED_MODULE_4___default().array]),label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,width:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,multiselect:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any,handleChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func},Select.defaultProps={children:"",selected:void 0,label:void 0,multiselect:!1,width:"250px",readOnly:!1,handleChange:void 0},Select.__docgenInfo={description:"",methods:[],displayName:"Select",props:{children:{defaultValue:{value:'""',computed:!1},description:"Heading contents",type:{name:"any"},required:!1},selected:{defaultValue:{value:"undefined",computed:!0},description:"Which item should be selected?",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},label:{defaultValue:{value:"undefined",computed:!0},description:"Label text to show",type:{name:"string"},required:!1},multiselect:{defaultValue:{value:"false",computed:!1},description:"Should it accept multiselect?",type:{name:"bool"},required:!1},width:{defaultValue:{value:'"250px"',computed:!1},description:"Width of the whole component",type:{name:"string"},required:!1},readOnly:{defaultValue:{value:"false",computed:!1},description:"Width of the whole component",type:{name:"bool"},required:!1},handleChange:{defaultValue:{value:"undefined",computed:!0},description:"Optional change handler",type:{name:"func"},required:!1}}}},"./src/components/Core/Select/SelectItem.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>SelectItem});__webpack_require__("./node_modules/react/index.js");var prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Core/Icon/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SelectItem=({value,children,selected,onSelect,...args})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("button",{type:"button",className:["ragnarok","menu-select-item",selected?"selected-item":""].join(" "),onClick:()=>onSelect(value),...args,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon__WEBPACK_IMPORTED_MODULE_1__.J,{icon:"check"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"button-content",children})]},value.toString());SelectItem.displayName="SelectItem",SelectItem.propTypes={onSelect:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,selected:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any},SelectItem.defaultProps={children:"",selected:!1,onSelect:void 0},SelectItem.__docgenInfo={description:"",methods:[],displayName:"SelectItem",props:{children:{defaultValue:{value:"''",computed:!1},description:"Option contents",type:{name:"any"},required:!1},selected:{defaultValue:{value:"false",computed:!1},description:"Which iten is selected?",type:{name:"bool"},required:!1},onSelect:{defaultValue:{value:"undefined",computed:!0},description:"Function to select item",type:{name:"func"},required:!1}}}},"./src/components/Core/TextField/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>_TextField__WEBPACK_IMPORTED_MODULE_0__.n});var _TextField__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Core/TextField/TextField.jsx")}}]);